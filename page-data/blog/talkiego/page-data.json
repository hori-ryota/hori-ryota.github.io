{"componentChunkName":"component---src-templates-blog-jsx","path":"/blog/talkiego/","result":{"data":{"markdownRemark":{"fields":{"urlPath":"/blog/talkiego/","jstDate":"2017-07-29"},"html":"<p>ここのところ、プレゼン用スライドの制作は <a href=\"https://twitter.com/ahomu\">@ahomu</a> さん製の <a href=\"https://github.com/ahomu/Talkie\">Talkie</a> をお借りしているのですが、 Talkie はソースを丸っと落として index.html を編集する必要があります。</p>\n<p>Markdown だけ記述してコマンド一発で起動できるようにしたかったので <a href=\"https://github.com/hori-ryota/talkiego\">talkiego</a> を作りました。</p>\n<!--more-->\n<h2>Talkie とは</h2>\n<blockquote>\n<p><a href=\"https://github.com/ahomu/Talkie\">ahomu/Talkie: Simple slide presentation library. Responsive scaling &#x26; markdown ready.</a></p>\n</blockquote>\n<p><a href=\"https://github.com/ahomu/Talkie\">Talkie</a> は <a href=\"https://twitter.com/ahomu\">@ahomu</a> さん製の良い感じにおしゃれなスライドを作れるライブラリです。</p>\n<p>似たようなツールとして <a href=\"http://lab.hakim.se/reveal-js/\">reveal.js</a> があるのですが、個人的には Talkie の方が日本語のレイアウトが綺麗に決まるので Talkie を愛用しています。</p>\n<p>reveal.js でもダメではないのですが、ちょっと真ん中にギュッと寄ってしまう感がありまして、好みではなかったです。</p>\n<h2>talkiego とは</h2>\n<p><a href=\"https://github.com/hori-ryota/talkiego\">talkiego</a> は Markdown ファイル単体を引数で取れば Talkie で起動してくれるツールです。</p>\n<p>reveal.js でいうところの <a href=\"https://github.com/yusukebe/revealgo\">yusukebe/revealgo</a> です。</p>\n<h2>作った経緯</h2>\n<p>Talkie は Node.js 製で、使用するには index.html の編集が必要になります。 slide を作るときに丸っと Talkie を落として編集するのではなくコンテンツ部分だけ書かれた Markdown ファイルを読み込むようにしたかったのが動機です。</p>\n<blockquote class=\"twitter-tweet\"><p lang=\"ja\" dir=\"ltr\">talkie.js、単体mdファイルから錬成できるようなラッパー欲しくなってきた</p>&mdash; hori (@hori_ryota) <a href=\"https://twitter.com/hori_ryota/status/875887520986275842?ref_src=twsrc%5Etfw\">June 17, 2017</a></blockquote>\n\n<blockquote class=\"twitter-tweet\"><p lang=\"ja\" dir=\"ltr\"><a href=\"https://t.co/WLcueJxxGs\">https://t.co/WLcueJxxGs</a> こういうの？</p>&mdash; (・∋・) (@ahomu) <a href=\"https://twitter.com/ahomu/status/875888753151062016?ref_src=twsrc%5Etfw\">June 17, 2017</a></blockquote>\n\n<blockquote class=\"twitter-tweet\"><p lang=\"ja\" dir=\"ltr\">ですです。同ディレクトリに各ファイル展開するのではなく、mdと必要なimgだけ配置しておいてコマンドだけ叩けば表示できるような</p>&mdash; hori (@hori_ryota) <a href=\"https://twitter.com/hori_ryota/status/875889375418109953?ref_src=twsrc%5Etfw\">June 17, 2017</a></blockquote>\n\n<blockquote class=\"twitter-tweet\"><p lang=\"ja\" dir=\"ltr\">ああ、なるほろ</p>&mdash; (・∋・) (@ahomu) <a href=\"https://twitter.com/ahomu/status/875890079582961664?ref_src=twsrc%5Etfw\">June 17, 2017</a></blockquote>\n\n<blockquote class=\"twitter-tweet\"><p lang=\"ja\" dir=\"ltr\">がっつりプレゼン資料作るだけじゃなくてペライチ提出にも使いたくなったので、Decksetばりに気軽に書き捨てできるようなとこまで頑張ってみようかなと</p>&mdash; hori (@hori_ryota) <a href=\"https://twitter.com/hori_ryota/status/875890615086497792?ref_src=twsrc%5Etfw\">June 17, 2017</a></blockquote>\n\n<blockquote class=\"twitter-tweet\"><p lang=\"ja\" dir=\"ltr\">まじか、期待してる</p>&mdash; (・∋・) (@ahomu) <a href=\"https://twitter.com/ahomu/status/875891637724958720?ref_src=twsrc%5Etfw\">June 17, 2017</a></blockquote>\n\n<blockquote class=\"twitter-tweet\"><p lang=\"ja\" dir=\"ltr\">まだ色々途中ですが一旦作りました。<br>talkiego serve hoge.md<br>で表示できて満足です∠( ﾟдﾟ)／<br><br>&quot;hori-ryota/talkiego&quot;<a href=\"https://t.co/e1eBtI69n9\">https://t.co/e1eBtI69n9</a><br><br>あゆむさんレビュー通ったらブログ書きます…！</p>&mdash; hori (@hori_ryota) <a href=\"https://twitter.com/hori_ryota/status/876451676403580928?ref_src=twsrc%5Etfw\">June 18, 2017</a></blockquote>\n\n<blockquote class=\"twitter-tweet\"><p lang=\"ja\" dir=\"ltr\">ｳｺﾞｲﾀｱｱｱ!<br><br>極端に言ったらカスタムテンプレート利用できればどうとでもなりそうだね👌</p>&mdash; (・∋・) (@ahomu) <a href=\"https://twitter.com/ahomu/status/876722828950642688?ref_src=twsrc%5Etfw\">June 19, 2017</a></blockquote>\n\n<h2>使い方</h2>\n<p><a href=\"https://github.com/hori-ryota/talkiego\">talkiego</a> の README.md に書いてありますが、簡単に載せておきます。</p>\n<p>Talkie の index.html だとこんな感じで書きますが、</p>\n\n        <div class=\"gatsby-code-title\">\n          <span>index.html</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Talkie.js - HTML/CSS/JavaScript Presentation Library<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>./dist/talkie.min.css<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>./dist/talkie-default.min.css<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/monokai_sublime.min.css<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token comment\">&lt;!-- put your slides --></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span> <span class=\"token attr-name\">layout</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>cover<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/x-markdown<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n# Talkie.js\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span> <span class=\"token attr-name\">layout</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>title<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">invert</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/x-markdown<span class=\"token punctuation\">\"</span></span>\n          <span class=\"token attr-name\">backface</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://farm8.staticflickr.com/7469/16209884502_211d01ac0d_z_d.jpg<span class=\"token punctuation\">\"</span></span>\n          <span class=\"token attr-name\">backface-filter</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>blur(3px) brightness(.9)<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n# Backface (北極)\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">layout</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>bullets<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/x-markdown<span class=\"token punctuation\">\"</span></span><span class=\"token style-attr language-css\"><span class=\"token attr-name\"> <span class=\"token attr-name\">style</span></span><span class=\"token punctuation\">=\"</span><span class=\"token attr-value\"><span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#ff0000<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n<span class=\"token operator\">*</span> foo\n<span class=\"token operator\">*</span> bar\n<span class=\"token operator\">*</span> baz\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>./dist/talkie.min.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">var</span> talkie <span class=\"token operator\">=</span> <span class=\"token function\">Talkie</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      wide<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n      control<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'DOMContentLoaded'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    talkie<span class=\"token punctuation\">.</span>changed<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">current</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// print presenter notes</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span>talkie<span class=\"token punctuation\">.</span>notes<span class=\"token punctuation\">[</span>current<span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data-page'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>talkiego だとこうなります。</p>\n\n        <div class=\"gatsby-code-title\">\n          <span>index.md</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre class=\"language-markdown\"><code class=\"language-markdown\"><span class=\"token comment\">&lt;!-- rootopt: wide control --></span>\n\n<span class=\"token comment\">&lt;!-- cover: --></span>\n<span class=\"token title important\"><span class=\"token punctuation\">#</span> Talkie.js</span>\n\n<span class=\"token hr punctuation\">---</span>\n\n<span class=\"token comment\">&lt;!-- title: invert\n            backface=https://farm8.staticflickr.com/7469/16209884502_211d01ac0d_z_d.jpg\n            backfaceFilter=\"blur(3px) brightness(.9)\" --></span>\n<span class=\"token title important\"><span class=\"token punctuation\">#</span> Backface (北極)</span>\n\n<span class=\"token hr punctuation\">---</span>\n\n<span class=\"token comment\">&lt;!-- bullets: style=\"color:#ff0000;\" --></span>\n\n<span class=\"token list punctuation\">*</span> foo\n<span class=\"token list punctuation\">*</span> bar\n<span class=\"token list punctuation\">*</span> baz</code></pre></div>\n<p>で、この作った Markdown ファイル (index.md) を引数にとって起動します（デフォルト値は index.md にしてあります）。</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">talkiego serve index.md</code></pre></div>\n<p>backface などのオプションの記述は必要ですが、コンテンツだけを独立した Markdown ファイルにできました。</p>\n<p>Markdown ファイルだけなので、企画案などのペライチを量産するときにもとても捗ります。</p>\n<h2>実装について</h2>\n<p>とりあえずコマンドなのでベースは <a href=\"https://github.com/spf13/cobra\">spf13/cobra</a> を使用しました。</p>\n<p>Talkie は Node.js ですが、スライドを動かすには dist ディレクトリに生成される静的ファイルを用いれば Node サーバの起動はしなくても動かせます。よって今回は <a href=\"https://github.com/jessevdk/go-assets\">jessevdk/go-assets</a> で Talkie のデフォルトテンプレートファイルを Go のソースコードにバイナリとして埋め込み、 FileServer として使用することでファイルを返せるようにしました。</p>\n<p>assets 系の埋め込みは <a href=\"https://github.com/jteeuwen/go-bindata\">jteeuwen/go-bindata</a> も人気ですが、今回はシンプルにファイルサーバとして使用するので <code class=\"language-text\">http.FileSystem</code> の実装を持っている <a href=\"https://github.com/jessevdk/go-assets\">jessevdk/go-assets</a> を使用しています。</p>\n<h3>大変だったところ</h3>\n<p>オプションのダブルクォーテーションをオプショナルにしたため、 parser を自作する羽目になりちょっと苦労しました。複数行も対応したため、空白で分割した後に quoted 状況に応じて結合したりなどなど。 CSV ファイルを扱うときもそうなのですが、良い感じでダブルクォーテーションを扱ってくれるライブラリが欲しいところです。</p>\n\n        <div class=\"gatsby-code-title\">\n          <span>parser.go</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"go\"><pre class=\"language-go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">parseProps</span><span class=\"token punctuation\">(</span>s <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">map</span><span class=\"token punctuation\">[</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span> <span class=\"token punctuation\">{</span>\n\tdst <span class=\"token operator\">:=</span> <span class=\"token keyword\">map</span><span class=\"token punctuation\">[</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\tfs <span class=\"token operator\">:=</span> strings<span class=\"token punctuation\">.</span><span class=\"token function\">Fields</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>\n\n\t<span class=\"token keyword\">for</span> i <span class=\"token operator\">:=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>fs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token comment\">// split key:value or key=value</span>\n\t\tsep <span class=\"token operator\">:=</span> strings<span class=\"token punctuation\">.</span><span class=\"token function\">IndexAny</span><span class=\"token punctuation\">(</span>fs<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\":=\"</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token keyword\">if</span> sep <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">{</span>\n\t\t\tdst<span class=\"token punctuation\">[</span>fs<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\n\t\t\t<span class=\"token keyword\">continue</span>\n\t\t<span class=\"token punctuation\">}</span>\n\n\t\tk<span class=\"token punctuation\">,</span> v <span class=\"token operator\">:=</span> fs<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span>sep<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> fs<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>sep<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span>\n\n\t\t<span class=\"token keyword\">if</span> <span class=\"token operator\">!</span>strings<span class=\"token punctuation\">.</span><span class=\"token function\">HasPrefix</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">,</span> <span class=\"token string\">\"\\\"\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\tdst<span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> v\n\t\t\t<span class=\"token keyword\">continue</span>\n\t\t<span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token comment\">// quoted</span>\n\t\ti<span class=\"token operator\">++</span>\n\t\t<span class=\"token keyword\">for</span> i <span class=\"token operator\">&lt;</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>fs<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\tv <span class=\"token operator\">=</span> fmt<span class=\"token punctuation\">.</span><span class=\"token function\">Sprintf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"%s %s\"</span><span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">,</span> fs<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token keyword\">if</span> strings<span class=\"token punctuation\">.</span><span class=\"token function\">HasSuffix</span><span class=\"token punctuation\">(</span>fs<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\\\"\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>strings<span class=\"token punctuation\">.</span><span class=\"token function\">HasSuffix</span><span class=\"token punctuation\">(</span>fs<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\\\\\\\"\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t\t<span class=\"token keyword\">break</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t\ti<span class=\"token operator\">++</span>\n\t\t<span class=\"token punctuation\">}</span>\n\n\t\tdst<span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> strings<span class=\"token punctuation\">.</span><span class=\"token function\">Trim</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">,</span> <span class=\"token string\">\"\\\"\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token keyword\">return</span> dst\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>とりあえず必要な書式で動けばいいやーと思いざっくり実装にしてあるので、正確な quoted の挙動にはなっていないかもしれませんが、及第点としたいところ。</p>\n<h2>今後の展望</h2>\n<p>このへんはあると便利だなーと思ってはいますが、とりあえず自分はデフォルトテンプレートがあれば困っていないのでどうしようかなと。</p>\n<ul>\n<li>Talkie のディレクトリを指定すると埋め込んだ assets ではなく指定した Talkie を見る</li>\n<li>Talkie のオプション（ <code class=\"language-text\">wide</code> など。勝手に RootOpt と呼んでいる）をコマンド引数で指定できるように</li>\n<li>watch オプションで変更検知</li>\n<li>カスタム CSS ファイルなどを読み込めるように</li>\n<li>HOME ディレクトリらへんにコンフィグファイルを置いて、デフォルト設定として用いる</li>\n<li>オプションのエイリアスやシンボル、モジュール化</li>\n</ul>\n<p>プルリクお待ちしております。</p>\n<h2>以上</h2>\n<p>スライドを作らなければいけないと思うと急にツールを整えたくなる病でカッとなって作ったのですが、狙い通り便利なものができたので捗っています。</p>\n<p>デザインセンスが無いので、ネタだけ用意すれば見た目はそれっぽくしてくれるツール群は本当に助かります。ありがとうございます。</p>","excerpt":"ここのところ、プレゼン用スライドの制作は @ahomu さん製の Talkie をお借りしているのですが、 Talkie はソースを丸っと落として index.html を編集する必要があります。 Markdown だけ記述してコマンド一発で起動できるようにしたかったので talkiego を作りました。","frontmatter":{"date":"2017-07-29T16:25:00+09:00","title":"良い感じにスライドを作れる Talkie をラップした talkiego を作った","tags":["Development","Slide library","Go","Created"],"eyecatch":null}}},"pageContext":{"urlPath":"/blog/talkiego/","previous":{"fields":{"urlPath":"/blog/cago-1-sync-pool/","jstDate":"2017-07-17"},"frontmatter":{"title":"CA.go #1 で sync.Pool について喋りました #ca_go","date":"2017-07-17"}},"next":{"fields":{"urlPath":"/blog/study-hls-keyframe-20170808/","jstDate":"2017-08-08"},"frontmatter":{"title":"社内勉強会で HLS と Key frame について改めて解説した","date":"2017-08-08"}}}},"staticQueryHashes":["1862978031","277821901","4270455655"]}