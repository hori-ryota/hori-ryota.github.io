{"componentChunkName":"component---src-templates-blog-jsx","path":"/blog/ffmpeg-broadcast-with-clock/","result":{"data":{"markdownRemark":{"fields":{"urlPath":"/blog/ffmpeg-broadcast-with-clock/","jstDate":"2017-02-19"},"html":"<p>生放送の遅延確認で現在時刻を載せた配信が欲しかったので作成。ついでに Docker Image 化もしてみました。</p>\n<!--more-->\n<h2>経緯</h2>\n<p>担当している某生放送サービスにて、遅延の確認や開発のために流しっぱなしの時刻つき配信が欲しかったので整備してみました。</p>\n<p><a href=\"https://obsproject.com/\">OBS</a> に時計を表示させれば簡単だったのですが、パブリックドメインで軽量な時計ツールが意外と無かったのと、実 PC での配信だとスケールしづらい上に何かとめんどくさいので Docker 化して自動配信にしたかったのが動機です。</p>\n<p>最終的にはこんな感じで動画上に時計を表示させることに成功。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0fbf24a2369cb746988443e44ee9d863/e38a4/result.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAADIUlEQVQozx2Qb0zUdRzHf0/dbBp25/3uuPvd7+53v/tHSGG1lFwPfNDaanPLntQDhz5wJTXbOS2mUiyKjP6otSKmI0zQ8Ai0c5xwHKcCcUiHiJBcgOQZKmR/SC3z++orD95777PP9n6/9lY2fBwV68o/5+XI+yJS8SnbPqrnxco61ld8yQuRaja9VU3VB/s5frSRZPw4nxw5Se2pfhqS56hL/EjjmWFafhgVscFLJIayQinbc5ANkUpRunUnkXdqeKNqL1u2v01ZpJzK8u0c2PcezQdqGOppJX22nROd3fQPDXHl8hjpn6ZIjUzSf2mazMRVcXHqV5SqaErsboyz61BM7GpqZ3dTnOq6w9TXfUFH82f0xg8ykDxENnOC0Qu9jGRSDA6nOX9hgMvZQXIzU+RmZ8WV2Tmu3/xNKPXxTho6u2hMdNGUTBFNddN6NkV7V4xUxxEG+loZHelkPNvHWLaf8Ylz/JK7yPTMBDPXJ/n71jVu/XOT+Tu/c/vfv1C6u5o5nYrSczpKureFzEALw5k2SfM942MxJrNxpqcSXM2lmLvRx59/nGd+fow7t3/m7n857t6b4Z64huAGMIfyaulGXtlYymubNxEp28yOrVvYua2Mijdf58OqHezdU07tvgq+/updvv2mhrZj+4m11XLqZD2JjgZSycP0nDlKuu+YhPkORXeYOBwGqtNA04J4PGH8vgIMI0QwVEg4XMSKFcWsfPRxHit+gtVPrmJNSQklq6RWP8XTJWt4Zu1a1j33LC+tfx7FYnVjUd3k2TQesutYHDqq5mWZw4PF6cbq8qC6DekG+V4fLp9fegDNF5IK4/Y9jD9YJIuLKQqtRFFVTdjtbuxOt3C43Bg+L6GAiab7sElqu34/3M1Su0e6znJZ4JTBmmHiMvxoZlAGB4XXLKAw8IhQdJdOgc8vQrLZb3oJB00KwwF88ra5TJbZNaxOjeWSdonVxWKLc0FLbS6s+br8ebHaDHQ9KDx6GCWkBUSxKbENUximJHLq2PJliEPjAauTRXkOFj1oR3Xdn0RjiZxmsVW6/OUt+IKEqnpRVZ/4HzWBA57OwFTbAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"result\"\n        title=\"result\"\n        src=\"/static/0fbf24a2369cb746988443e44ee9d863/fcda8/result.png\"\n        srcset=\"/static/0fbf24a2369cb746988443e44ee9d863/12f09/result.png 148w,\n/static/0fbf24a2369cb746988443e44ee9d863/e4a3f/result.png 295w,\n/static/0fbf24a2369cb746988443e44ee9d863/fcda8/result.png 590w,\n/static/0fbf24a2369cb746988443e44ee9d863/efc66/result.png 885w,\n/static/0fbf24a2369cb746988443e44ee9d863/c83ae/result.png 1180w,\n/static/0fbf24a2369cb746988443e44ee9d863/e38a4/result.png 3642w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>時計部分は FFmpeg のフィルタで合成しているので、見た目やフォントは好きなようにカスタマイズできます。</p>\n<h2>構成</h2>\n\n        <div class=\"gatsby-code-title\">\n          <span>file-list</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Dockerfile\nNotoSans-Bold.ttf\nsrc.mp4\nstart.sh*</code></pre></div>\n<p>Font と MP4 はライセンス的に問題ないものを拝借。</p>\n<h2>スクリプト</h2>\n<h3>start.sh</h3>\n<p>Dockerfile の <code class=\"language-text\">ENTRYPOINT</code> に直接コマンドを書くとややこしくなるのと、スクリプトを直接叩いてデバッグしたかったので実行コマンドを別スクリプトにしました。</p>\n\n        <div class=\"gatsby-code-title\">\n          <span>start.sh</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token shebang important\">#!/bin/bash</span>\n\nffmpeg -re -stream_loop -1 -i <span class=\"token string\">'src.mp4'</span> -vf <span class=\"token string\">\"drawtext=fontfile=./NotoSans-Bold.ttf: text='%{localtime\\:%F%n%n%T}': fontcolor=black@0.8:fontsize=64: x=32: y=32\"</span> -vcodec libx264 -x264-params <span class=\"token assign-left variable\">keyint</span><span class=\"token operator\">=</span><span class=\"token number\">30</span> -acodec aac -f flv <span class=\"token string\">\"<span class=\"token variable\">${TARGET_RTMP_URL}</span>\"</span></code></pre></div>\n<p>FFmpeg での配信コマンドについては以下の記事でも紹介してあります。</p>\n<blockquote>\n<p><a href=\"https://developers.cyberagent.co.jp/blog/archives/1689/\">テスト用の自動配信環境をDockerとFFmpegで構築してみる | CyberAgent Developers Blog | サイバーエージェント デベロッパーズブログ</a></p>\n</blockquote>\n<p>ざっくりオプションの説明をすると、</p>\n<ul>\n<li>\n<p><code class=\"language-text\">-re</code></p>\n<ul>\n<li>入力動画のフレームレート速度でファイルを読み込むオプション</li>\n<li>つけない場合はエンコードで処理できるスピードをそのまま出力スピードに使ってしまうので、たとえば2倍速でエンコードできる場合、配信が2倍速の動画になってしまう</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">-stream_loop 1</code></p>\n<ul>\n<li>入力ソースを無限ループさせるオプション</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">-i &#39;src.mp4&#39;</code></p>\n<ul>\n<li>入力ソースの指定</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">-vf</code></p>\n<ul>\n<li>ビデオフィルタ</li>\n<li>複数のフィルタを <code class=\"language-text\">:</code> 区切りで指定できる</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">drawtext=fontfile=./NotoSans-Bold.ttf</code></p>\n<ul>\n<li>フォントファイルの指定</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">text=&#39;%{localtime\\:%F%n%n%T}&#39;</code></p>\n<ul>\n<li>今回の肝になる時計部分。</li>\n<li><code class=\"language-text\">strtime</code> のフォーマットで指定できる。</li>\n<li><code class=\"language-text\">%F</code> : ハイフン区切りの年月日</li>\n<li><code class=\"language-text\">%n</code> : 改行</li>\n<li><code class=\"language-text\">%T</code> : <code class=\"language-text\">:</code> 区切りの時分秒</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">fontcolor=black@0.8</code></p>\n<ul>\n<li>字の色</li>\n<li><code class=\"language-text\">@0.8</code> はアルファ値（透過）。 1 が透過なし。 0 が透明。</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">fontsize=64</code></p>\n<ul>\n<li>フォントサイズ</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">x=32</code></p>\n<ul>\n<li>表示位置（横）</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">y=32</code></p>\n<ul>\n<li>表示位置（縦）</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">-vcodec libx264 -x264-params keyint=30</code></p>\n<ul>\n<li>ビデオコーデックの指定</li>\n<li>今回は配信サービスの都合上、 <code class=\"language-text\">H264</code> で <code class=\"language-text\">Keyframe Interval</code> を <code class=\"language-text\">30</code> にした。</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">-acodec aac</code></p>\n<ul>\n<li>音声コーデックを <code class=\"language-text\">AAC</code> にした</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">-f flv</code></p>\n<ul>\n<li>出力フォーマットの指定</li>\n<li>今回は <code class=\"language-text\">RTMP</code> での配信をするため <code class=\"language-text\">flv</code> 指定</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">&quot;${TARGET_RTMP_URL}&quot;</code></p>\n<ul>\n<li>出力先の指定</li>\n<li>今回は変数にしたので、配信サービスの <code class=\"language-text\">RTMP</code> 出力先 URL を指定する</li>\n<li><code class=\"language-text\">rtmp://hogehoge.com/hogehoge:1935</code> みたいな</li>\n<li>Docker 化した場合は <code class=\"language-text\">-e</code> オプションで <code class=\"language-text\">-e &#39;TARGET_RTMP_URL=rtmp://hogehoge.com/hogehoge:1935&#39;</code> で指定できる</li>\n</ul>\n</li>\n</ul>\n<h3>Dockerfile</h3>\n\n        <div class=\"gatsby-code-title\">\n          <span>Dockerfile</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"dockerfile\"><pre class=\"language-dockerfile\"><code class=\"language-dockerfile\"><span class=\"token keyword\">FROM</span> horiryota/ffmpeg\n\n<span class=\"token keyword\">COPY</span> src.mp4 ./\n<span class=\"token keyword\">COPY</span> start.sh ./\n<span class=\"token keyword\">COPY</span> NotoSans<span class=\"token punctuation\">-</span>Bold.ttf ./\n\n<span class=\"token keyword\">ENTRYPOINT</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"/bin/sh\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"./start.sh\"</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>Dockerfile は COPY して <code class=\"language-text\">start.sh</code> を叩くだけです。</p>\n<p>ちなみに FFmpeg の Docker Image は <a href=\"https://hub.docker.com/r/jrottenberg/ffmpeg/\">jrottenberg/ffmpeg</a> をお借りしようと思いましたが、時計を表示するための <code class=\"language-text\">drawtext</code> フィルタを使うのに必要なビルドオプション <code class=\"language-text\">--enable-libfreetype</code> が設定されていなかったので自分で用意。</p>\n<p>FFmpeg の Dockerfile は以下。</p>\n\n        <div class=\"gatsby-code-title\">\n          <span>Dockerfile</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"dockerfile\"><pre class=\"language-dockerfile\"><code class=\"language-dockerfile\"><span class=\"token keyword\">FROM</span> gliderlabs/alpine<span class=\"token punctuation\">:</span>3.4\n\n<span class=\"token keyword\">ENV</span> TZ=<span class=\"token string\">\"JST-9\"</span>\n\n<span class=\"token keyword\">ENV</span> FFMPEG_VERSION=3.2.4\n\n<span class=\"token keyword\">RUN</span> \\ \n      apk update &amp;&amp; \\\n\n      apk add <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>no<span class=\"token punctuation\">-</span>cache \\\n      freetype<span class=\"token punctuation\">-</span>dev \\\n      openssl<span class=\"token punctuation\">-</span>dev \\\n      rtmpdump<span class=\"token punctuation\">-</span>dev \\\n      x264<span class=\"token punctuation\">-</span>dev \\\n      yasm<span class=\"token punctuation\">-</span>dev \\\n      zlib<span class=\"token punctuation\">-</span>dev \\\n      &amp;&amp; \\\n\n      apk add <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>no<span class=\"token punctuation\">-</span>cache <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>virtual=build<span class=\"token punctuation\">-</span>dependencies \\\n      build<span class=\"token punctuation\">-</span>base \\\n      curl \\\n      nasm \\\n      tar \\\n      bzip2 \\\n      &amp;&amp; \\\n\n      DIR=$(mktemp <span class=\"token punctuation\">-</span>d) &amp;&amp; cd $<span class=\"token punctuation\">{</span>DIR<span class=\"token punctuation\">}</span> &amp;&amp; \\\n\n      wget http<span class=\"token punctuation\">:</span>//ffmpeg.org/releases/ffmpeg<span class=\"token punctuation\">-</span>$<span class=\"token punctuation\">{</span>FFMPEG_VERSION<span class=\"token punctuation\">}</span>.tar.gz <span class=\"token punctuation\">-</span>O <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">|</span> tar zxvf <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">-</span>C . &amp;&amp; \\\n      cd ffmpeg<span class=\"token punctuation\">-</span>$<span class=\"token punctuation\">{</span>FFMPEG_VERSION<span class=\"token punctuation\">}</span> &amp;&amp; \\\n      ./configure \\\n\n      <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>enable<span class=\"token punctuation\">-</span>gpl \\\n      <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>enable<span class=\"token punctuation\">-</span>version3 \\\n      <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>enable<span class=\"token punctuation\">-</span>nonfree \\\n\n      <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>enable<span class=\"token punctuation\">-</span>small \\\n\n      <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>disable<span class=\"token punctuation\">-</span>ffplay \\\n      <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>disable<span class=\"token punctuation\">-</span>ffserver \\\n\n      <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>disable<span class=\"token punctuation\">-</span>doc \\\n      <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>disable<span class=\"token punctuation\">-</span>htmlpages \\\n      <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>disable<span class=\"token punctuation\">-</span>manpages \\\n      <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>disable<span class=\"token punctuation\">-</span>podpages \\\n      <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>disable<span class=\"token punctuation\">-</span>txtpages \\\n\n      <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>enable<span class=\"token punctuation\">-</span>libx264 \\\n      <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>enable<span class=\"token punctuation\">-</span>postproc \\\n      <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>enable<span class=\"token punctuation\">-</span>avresample \\\n      <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>enable<span class=\"token punctuation\">-</span>libfreetype \\\n      <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>enable<span class=\"token punctuation\">-</span>openssl \\\n      <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>disable<span class=\"token punctuation\">-</span>debug \\\n      &amp;&amp; \\\n\n      make &amp;&amp; \\\n      make install &amp;&amp; \\\n      make distclean &amp;&amp; \\\n\n      rm <span class=\"token punctuation\">-</span>rf $<span class=\"token punctuation\">{</span>DIR<span class=\"token punctuation\">}</span> &amp;&amp; \\\n      apk del build<span class=\"token punctuation\">-</span>dependencies &amp;&amp; \\\n      rm <span class=\"token punctuation\">-</span>rf /var/cache/apk/*</code></pre></div>\n<h2>使い方</h2>\n<p>Doker Image なので以下のようなコマンドで配信できるはず。</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">docker run -e <span class=\"token string\">'TARGET_RTMP_URL=rtmp://hogehoge.com/hogehoge:1935'</span> horiryota/auto-broadcast</code></pre></div>\n<h2>以上</h2>\n<p>とりあえず配信しっぱなしにはできたので、 CPU などのリソース表示や fps 、 bitrate などの配信状態表示にも挑戦してみたいところ。</p>\n<p>FFmpeg はオプションが多くて全然把握しきれないので、覚えたものからメモっていきたい。</p>","excerpt":"生放送の遅延確認で現在時刻を載せた配信が欲しかったので作成。ついでに Docker Image 化もしてみました。","frontmatter":{"date":"2017-02-19T17:14:27+09:00","title":"デジタル時計を載せた生放送を FFmpeg だけで実現する","tags":["FFmpeg","Live Broadcasting","Created"],"eyecatch":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAADE0lEQVQozx2M/0/UdRzHP7/y5bjvXz533ue+cncdddSqIUOBvkxGs5UNiEjiywVBAcfnvuRNkTvPuAslQMHcrHTlyi9rutliixZp2UqSoZRarEz7opub1n/w6C0/PPZ6PV97vh5Sx9Qptmw/QHuyQCo7TWryQ1py79GUOUhzapxo+m3ye2c5c/IYZ+c/Y+r4HIfmFzl6don3F5Y5dn6F0xeuMbe0ysLl35AG9x6hM5mjO76T1O5J1LH9DKRzDMS3MzaS5vBMgU8/mGDl+zP8+N0XfL5wjsVLl/n75i9cXL3BN1f+YHH1Ty5dv8WVG7eRCqe/JXt8nszHc+w6+SXZE/NMHDnB0cOH+PrUQS589RFL5z7h95U5fr36A9dWzrP880V+urrEX9eXuX3nJrfu3eWfu/e489+/SB2xBF3xFN1qki41QU8iyWuJOG8M9TM80Mm2RA+ZnYNksyqj2TfJ7trGWH6EXD5LPj/K9HSBmdkpZg7sY/bd/UgvNm+muekZol2tqLEeBvrbScZ7SSX7eGt3mkwmwcjIMHv2ZMiMquzYMURO3MfHM0xOFZh4J086HSMW60VV+5EerazkkUiE6qrHebK+lsZNT/NsYwPPbW6kpel5Xm59gY6tzQy+HqWvd+saw0OvElf7SMT7iQ1FiXa38Er7Fro7m5C0pXo0Gj3FJWVotUbWr6+hqqqa+vqnqKt7QuRqamo2Uhl5mIZNDbS1tfFSayt1tbVs3LABu82GW1EI+L2Egz6k4mIdRSVaikq1FAtxqdaAzmhGb7ZhdTjRmaxo9EZKdAa0BhNGixW9ybKGwSKLrhWj6JjNMlaBJNsUZFnBvk5MgcfrIVjuw6F4MMkubIobvSzE8v3pwmhXcHi8OL2i4/Gj+INiD+L2PUBFIILkEY8V5UHCgSChkJ8Hw0EiFSHKAyFkVxCTw43V6cYi0FkUNIJSsxO9zSXuXqyKD6tcjscTxuetQAq7QjwWeIigP4A/4Mfu9GBbJ8pCpLE4KTI4KNLbkRWXkDgps94XutbkBosLraBMZFn2Yhfi/wGvNMTqx481LwAAAABJRU5ErkJggg==","aspectRatio":1.7777777777777777,"src":"/static/f0a51c22ea6ec2bb928f345fdb2f0813/5707d/eyecatch.png","srcSet":"/static/f0a51c22ea6ec2bb928f345fdb2f0813/497c6/eyecatch.png 400w,\n/static/f0a51c22ea6ec2bb928f345fdb2f0813/ee604/eyecatch.png 800w,\n/static/f0a51c22ea6ec2bb928f345fdb2f0813/5707d/eyecatch.png 1600w,\n/static/f0a51c22ea6ec2bb928f345fdb2f0813/0ef64/eyecatch.png 2400w,\n/static/f0a51c22ea6ec2bb928f345fdb2f0813/21ecb/eyecatch.png 3200w,\n/static/f0a51c22ea6ec2bb928f345fdb2f0813/14a8f/eyecatch.png 3632w","srcWebp":"/static/f0a51c22ea6ec2bb928f345fdb2f0813/7c22d/eyecatch.webp","srcSetWebp":"/static/f0a51c22ea6ec2bb928f345fdb2f0813/1f5c5/eyecatch.webp 400w,\n/static/f0a51c22ea6ec2bb928f345fdb2f0813/58556/eyecatch.webp 800w,\n/static/f0a51c22ea6ec2bb928f345fdb2f0813/7c22d/eyecatch.webp 1600w,\n/static/f0a51c22ea6ec2bb928f345fdb2f0813/f1e40/eyecatch.webp 2400w,\n/static/f0a51c22ea6ec2bb928f345fdb2f0813/f9eef/eyecatch.webp 3200w,\n/static/f0a51c22ea6ec2bb928f345fdb2f0813/46715/eyecatch.webp 3632w","sizes":"(max-width: 1600px) 100vw, 1600px"},"original":{"src":"/static/eyecatch-f0a51c22ea6ec2bb928f345fdb2f0813.png","width":3632,"height":2043}}}}}},"pageContext":{"urlPath":"/blog/ffmpeg-broadcast-with-clock/","previous":{"fields":{"urlPath":"/blog/qulassification-csv-with-q/","jstDate":"2017-02-03"},"frontmatter":{"title":"CSV を SQL で扱える 'q' を使って数値データのランク分け芸","date":"2017-02-03"}},"next":{"fields":{"urlPath":"/blog/golang-highly-versatile-method-with-arbitary-options/","jstDate":"2017-02-21"},"frontmatter":{"title":"golang で汎用的な任意数のオプションを取るメソッドの作り方","date":"2017-02-21"}}}},"staticQueryHashes":["1862978031","277821901","4270455655"]}