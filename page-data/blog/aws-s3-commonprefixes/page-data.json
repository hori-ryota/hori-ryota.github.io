{"componentChunkName":"component---src-templates-blog-jsx","path":"/blog/aws-s3-commonprefixes/","result":{"data":{"markdownRemark":{"fields":{"urlPath":"/blog/aws-s3-commonprefixes/"},"html":"<p><a href=\"https://github.com/aws/aws-sdk-go\">aws-sdk-go</a> で S3 の <code class=\"language-text\">ListObjects</code> をしたとき、 Prefix (Directory) の一覧は <code class=\"language-text\">CommonPrefixes</code> に入ってくる。</p>\n<!--more-->\n<p>ちょっとハマったので備忘録です。</p>\n<p>shell コマンドの AWS CLI だと <code class=\"language-text\">aws s3 list s3://bucketname/prefix/</code> で prefix 直下の Prefix (Directory) 一覧も取れていたので気にならなかったのですが、 aws-sdk-go だと <code class=\"language-text\">ListObjectsOutputs.Contents</code> から Prefix の一覧が取得できません。</p>\n<p>で、どこに入っているかというと <code class=\"language-text\">Contents</code> と同階層にある <code class=\"language-text\">CommonPrefixes</code> の方にありました。</p>\n<p>なので、 <code class=\"language-text\">aws-sdk-go</code> の Wrapper を用意するときは <code class=\"language-text\">Contents</code> だけを返すのではなく <code class=\"language-text\">ListObjectsOutputs</code> ごと返すか、 <code class=\"language-text\">CommonPrefixes</code> を返すメソッドを別途用意できるような構造にしといたほうが良さそうですね。</p>\n<p>以上、備忘録でした。</p>","excerpt":"aws-sdk-go で S3 の  をしたとき、 Prefix (Directory) の一覧は  に入ってくる。","frontmatter":{"date":"2016-11-13","title":"aws-sdk-go で S3 の Prefix (Directory) 一覧を取得する方法","tags":["Development","AWS","S3","Go"],"eyecatch":null}}},"pageContext":{"urlPath":"/blog/aws-s3-commonprefixes/","previous":{"fields":{"urlPath":"/blog/hub-with-ghe-alias/"},"frontmatter":{"title":"GitHub Enterprise でも hub コマンド を快適に使う alias設定","date":"2016-11-07"}},"next":{"fields":{"urlPath":"/blog/create-blackband-image/"},"frontmatter":{"title":"ImageMagick で黒帯背景に白文字を載せた画像を生成するシェル芸","date":"2017-01-29"}}}},"staticQueryHashes":["2432199166","277821901","3202776293"]}