{"componentChunkName":"component---src-templates-blog-jsx","path":"/blog/ddd-in-2019/","result":{"data":{"markdownRemark":{"fields":{"urlPath":"/blog/ddd-in-2019/"},"html":"<p>個人的な話となり恐縮ですが、2019年はドメイン駆動設計の戦術周りでたくさんの試行錯誤ができた有意義な年となりました。</p>\n<p>活動していく中で課題感に共感を得られたり方向性の違いを実感できたり学びが多かったので、雑記として残しておこうかと思います。</p>\n<!--more-->\n<p><a href=\"https://qiita.com/advent-calendar/2019/ddd-1\">ドメイン駆動設計#1 Advent Calendar 2019</a>の記事です。</p>\n<h2>今年やったこと</h2>\n<ul>\n<li>「人間がやるべき本質的作業だけに注力しよう」を掲げてDDDを導入</li>\n<li>\n<p>プロジェクトがビジネス上の事情で霧散しがち</p>\n<ul>\n<li>フルスクラッチでDDD！を繰り返せて幸運…？</li>\n</ul>\n</li>\n<li>\n<p>DDDを狙ったcode generatorを作成</p>\n<ul>\n<li><a href=\"/blog/create-go-genconstructor/\">DDD するのに Go でも required を表現したくて go-genconstructor を作った</a></li>\n<li><a href=\"/blog/create-go-genaccessor/\">DDD がしたいので Go の Accessor を go generate する go-genaccessor を作った</a></li>\n<li><a href=\"/blog/create-go-generror/\">表現力の高い Go の Error 群を go generate する go-generror を作った</a></li>\n<li><a href=\"https://github.com/hori-ryota/go-genappevent\">hori-ryota/go-genappevent</a></li>\n<li><a href=\"https://github.com/hori-ryota/go-genapi\">hori-ryota/go-genapi</a></li>\n<li>↑はすべて <a href=\"https://github.com/hori-ryota/go-codegen\">hori-ryota/go-codegen</a> に移植中</li>\n</ul>\n</li>\n<li>\n<p>登壇した</p>\n<ul>\n<li><a href=\"https://speakerdeck.com/horiryota/gorasisatogo-generate\">Goらしさとgo generate - Speaker Deck</a></li>\n<li><a href=\"https://speakerdeck.com/horiryota/microservicestobffdecheng-sitakatutashi-jie\">MicroservicesとBFFで成したかった世界 - Speaker Deck</a></li>\n<li><a href=\"https://speakerdeck.com/horiryota/dddnaragai-nian-ceng-dakehong-tuteitai-with-code-generator\">DDDなら概念層だけ触っていたい！ with Code Generator - Speaker Deck</a></li>\n</ul>\n</li>\n</ul>\n<p>9月くらいから休憩中なこともあってgenerator芸が未達なのが残念。</p>\n<h2>DDDのスタンスについて</h2>\n<p>DDDのスタンスは色々な方向性があり、方向性を共有せずにDDDの各要素の話をすると混乱が生じやすいことを学びました。</p>\n<p>前提として私のスタンスを述べておきます。</p>\n<ul>\n<li>\n<p>概念を実装する層では</p>\n<ul>\n<li>o: 想定する概念をなるべく率直に表現したい</li>\n<li>x: 実際に使う概念のみ表現する</li>\n<li>x: 特定の要素（ルールや計算）に特化して実装する</li>\n</ul>\n</li>\n<li>\n<p>DRY (Don’t Repeat Yourself) については</p>\n<ul>\n<li>o: 変更欲求に対してDRYであることが重要</li>\n<li>\n<p>x: なんども使うから共通化</p>\n<ul>\n<li>o: コードの重複ではなく変更（削除）しやすいほうが重要</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>チームの結合度と概念の結合度について</p>\n<ul>\n<li>x: 通信を挟むなら（チームも別だし）相互に疎に開発できるよう結合度を下げたい</li>\n<li>\n<p>o: APIの両端は密結合なのだから概念の結合度に開発を寄せたい</p>\n<ul>\n<li>実装上は疎結合っぽくしているけど実質は概念も人間も密結合なのが嫌</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>色々ありますが、基本的には「概念が主、解決手段が従」に偏重させようとしています。</p>\n<p>もしよければ <a href=\"https://hori-ryota.com/blog/starting-development-with-ddd/\">継続的に価値を提供するドメイン駆動設計入門</a> も併せて読んでいただけると勘所を押さえられるかと思います。</p>\n<h2>最近の個人的なDDD</h2>\n<p>今年は新規立ち上げプロジェクトには恵まれたのですが、プロジェクト継続には恵まれない一年でした。</p>\n<p>DDDによるサービス立ち上げを複数行ってみて、個人的に思うことが色々とあったので所感を記しておきます。</p>\n<h3>概念層以外を手実装するのはかなり厳しい</h3>\n<p>DDDの実装は二層に大別されます。</p>\n<ol>\n<li>\n<p>概念層</p>\n<ul>\n<li>対象アプリケーションの概念を実装で <strong>表現</strong> する層</li>\n</ul>\n</li>\n<li>\n<p>非概念層</p>\n<ul>\n<li>対象アプリケーション外との帳尻合わせ、技術的詳細</li>\n</ul>\n</li>\n</ol>\n<p>概念層を概念表現に特化させるため、非概念層は概念層の変更に強く依存することになります。</p>\n<p>となると、概念に対し概念層をDRYに保てる一方で、非概念層にも変更が生じるのでDRY原則に反します。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 371px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c66a959b96b0b8ef6e6f8c11951e8bd8/d4635/fig1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.83783783783784%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAAB+klEQVQoz12Sz3PSQBTH+Zs9OmPHq/XoRafjpfZQe/CiHbGYOiX8GALZgoWSwsoPhZAGkmx+EDbZX24AKfgm2d3se5/d73svOSEEF/vGOKNySmwTIy/b4If+PcsJwnhK5SNSSleUUb45bfTtyiiV1uwTnKbpYjG27R5CdgYPjGfW+GgCn5vDF6F15PfPFoN27PvTys9Zf7QHZ7PEdHAKwIf5XA0CP6dXXrYbx/fguN149avzult/Y4ByOF+g3jiYWHuys9Fxfg8GX8ajS9uux3GcSxKBsVjhbIxjuciCJnBYKBRq5Qr2w/20KeNoYXmuGUbhOudD4ylhQZRg7LgO8hHxlwwnG9GZbs5ZQgTffh7AnFDftIMwjJZLKsuHV9JSL2SUbgNkK9Zn/av2jpQvTps6+HhxoXxXNE1TFKUPoXSkKGy1WlCuhTDanWq1CgCIoujgZrZcea7z0HtwXddam7w5S1Xuzx4xJYLQKAg8z/N9X0rL7fQklHtDa4WW//8K62JhJwqnbjB1GKFPsjdtROhxZtVNqM5Nrd250vUfhLBdkwllkxGYGsoMqpXyJwjvN64t7KE/zebpjfpOLZ/U6++LxfMgiHdwkhAIC2r5bbF0omky4PoQ9mxd/wr0vFa7vLsrAHCDcbqDGeOGUdNqn/VG/vY23+22Nq6/yavSjlO0PmkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"非概念層を実装しなければいけない様子の図\"\n        title=\"非概念層を実装しなければいけない様子の図\"\n        src=\"/static/c66a959b96b0b8ef6e6f8c11951e8bd8/d4635/fig1.png\"\n        srcset=\"/static/c66a959b96b0b8ef6e6f8c11951e8bd8/12f09/fig1.png 148w,\n/static/c66a959b96b0b8ef6e6f8c11951e8bd8/e4a3f/fig1.png 295w,\n/static/c66a959b96b0b8ef6e6f8c11951e8bd8/d4635/fig1.png 371w\"\n        sizes=\"(max-width: 371px) 100vw, 371px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>つまり、変更箇所が散り、作業の工数が負担となるため概念と概念層の成長に負の影響が生じてしまいます。</p>\n<p>非概念層への作業は非概念層の事情のみに依存し、概念層の変更には（ほぼ）自動で追従して欲しいと実感しました。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 306px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/60cade1b9c8f9aa7a1d8f1042d5b685b/98b92/fig2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 70.94594594594594%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAAByUlEQVQoz4VTWW/aQBD2/1cf8lb6UKlSq7ZESQ8MgTjGURpoqrqJ7aQkdrBTgwEn4APwtes96Dqmal8az65Wc+y338xolts8KRTjbOaQHG1NSv+Ncv/HFffwOv755uV4oJeePM+jKPB9N4rW1WCSwYt6+952Ch1T2/5+eblrmrzjfFmvl9ymIm867SsgSpiKcjwedU9Oaqr6zve7njepYF658+mVHk7vS99sdjt3+4t5fzS6gBBWMHeEQ77V/Hp2VpoEk9UiiOIEIfRkzQX5BhMcP3gwy7bgPKcI/8mLVtXMGp4AFKc5Quw6SgHMAMaYEFLFXHAzOqqfa0ddkfG7I0cURUmSZFlmT1R2uzjSRQgApKwGkAMAsjRlJxsYDkKmJMwDAHOlEGb0cZKYELYe4auJuxza4fBXEgR083fIONP85jgdy2qPx4Kq7u3WnxmqYuq3n/b2xc7hlaJ5D7OhwVt6wzKaR0Ltc+MVAHk5qpzjyJr2utXakaTa8fGLO/Njr75PYxDN/dQPYRh5E1tR3nal53xzx7r70Ou9Xy6jLdgwzlWV17S2ph0MBoL8o3FtXBdtIqT8BkHoqeoBi7J9cyOcnjbTNCvBvwH31hG9uIf2+gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"非概念層を自動反映にした場合の図\"\n        title=\"非概念層を自動反映にした場合の図\"\n        src=\"/static/60cade1b9c8f9aa7a1d8f1042d5b685b/98b92/fig2.png\"\n        srcset=\"/static/60cade1b9c8f9aa7a1d8f1042d5b685b/12f09/fig2.png 148w,\n/static/60cade1b9c8f9aa7a1d8f1042d5b685b/e4a3f/fig2.png 295w,\n/static/60cade1b9c8f9aa7a1d8f1042d5b685b/98b92/fig2.png 306w\"\n        sizes=\"(max-width: 306px) 100vw, 306px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>現状の解決策はcode generatorによる依存実装の自動生成ですが、Go言語との相性の良さもありそれなりに形になってきています。</p>\n<h3>自分がドメインエキスパートになる気概が必要</h3>\n<p>体制によると思いますが、最もボトルネックになりがちなのがドメインエキスパートの時間確保でした。加えて、世にないサービスを新しく生むプロジェクトの場合、ドメインエキスパートは部分的なエキスパートでしかない場合も多いのではないでしょうか。</p>\n<p>モデリングの初稿はともかく、実装との相互作用による昇華を狙う場合、すべてをドメインエキスパートに確認してから実装するのでは試行錯誤の量が足りませんでした。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 363px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ec0067478b25ec169d091cc26d9d39a4/4e786/fig3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 79.05405405405406%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsSAAALEgHS3X78AAACC0lEQVQoz4VSXXPSQBTllzrjOOODY3+SgH1wfNFR62hxtHVsbUWaBAIEmmn4KiQ0hE2ymyXZr8R8gAqt9T7sZu/ec+/Zc1JKNsEDiCYDIeLkVsSCw6s+o2QnX8ovMwAeTRqV/SjarsivBMLKs6ozs/JEvAUuzpGHBudNkcRbFfkeU26cNcMw/Pfkm6Wl9Bhlu5wpI8CfN3sE4V0wAGA6ndq2bc7MgTEwDMNxnDTJWNaFIixwKDcujo6P+1pvlzbnnERRWpquK9enLA/OBePUQ3wVZS8iBLpe4IC7aBf0uOB4/SoeEuLCFP/3KIZwnGfWShRgIZI0GQURmi1pyKiLxYoktywjHg4sb2ty2nexGNkL1ZrIln426nz7/ukV8EAQYN/3IYLABUsACKPXQ9nUTlqdr8Nhv2BUSnWx7eZ8/s62a65/5LifG/WyXPvCCfOXwLjUF9YcuR6y7Cv9oKHsS1K5Xj8syGe0x+OOohyo6mGr+aHbqSnye0PTMvM8X5Vkz3bSbzQ2lcbHn+evpYu3qlr/A6aUQYgRwilVBDFM7SnML6TarFQk12rbmky5iHfVvjPijdaxyBre9H8szPFvC/4DXuNFFLPs9wKD2nzSzgyiK8Hi0v24zF5ojdpPdeWxcvqoJz2UTh4Mu0+wtWe2Xt4/OQPzCA21F3q70pXLmlLV5Mql+nysV3vym19gK4mJVYsI7QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"待ちが多くて試行錯誤しづらい様子の図\"\n        title=\"待ちが多くて試行錯誤しづらい様子の図\"\n        src=\"/static/ec0067478b25ec169d091cc26d9d39a4/4e786/fig3.png\"\n        srcset=\"/static/ec0067478b25ec169d091cc26d9d39a4/12f09/fig3.png 148w,\n/static/ec0067478b25ec169d091cc26d9d39a4/e4a3f/fig3.png 295w,\n/static/ec0067478b25ec169d091cc26d9d39a4/4e786/fig3.png 363w\"\n        sizes=\"(max-width: 363px) 100vw, 363px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>意思決定の分散や認識合わせの不足を招くのは良くないですが、実装の試行錯誤ができ、ドメインエキスパートと揉むポイントを絞れる程度には業務知識を学習しておく気概が必要だと感じました。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 477px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/731bf9be59cfb09cbd369f57fb14060b/d743b/fig4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.51351351351351%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAAB00lEQVQoz4WSy27TQBSG/X5skZAQO16CN2BRie5YsGBViYoFVTa0SBAhtVHSlCStU9vx3U5wE8vjS3ydu3GcigaRwr8YjebM958z54xQt2Kwik2N1w/ilETGjFFaPy6h5hsERWvl7BtlrOU2J7Qo5c9fEUb/hFuRrASytRugJQwVm1SQbx33wkmS+L4fBsDSDX+5jOMYY1xjaqt6/6KXgJBXiJQV53wPzLbCmELYxCkhOM05oRijIlmzun0CRDgtmnXXotnfl00hxhmsac1KxCltrjBMcVrtNLBpKmZlc4c1DluTTeYwssFKBq44G3bntoZhBYAGfMU3xyDUNHWUJus8zyGCSRLHP32w0PxAUWcjgRBimme2c+LdnSrq8aB7ElmuJH6YqR9X/hd30el/f+9KGiorRZxGAciDRL85HQzfDfpHQlP6YqEZxrVhiJZ54y1dSqll3xrqWBqdW5bo2FKRFTXjYOWTppeE3c1NXZ84jiI8OkSOV5pECPvPnPmDakYQzjyUejiz59NPaeCwyiNZ+Iftvdhu5nYq5Vwcv5hOn1+cP+10nlwNnwHwErivsijeYnt+2G+YVEC8PJxcHvzoHfS6r+XJoXz9Rr99mybh3/AvZTvbXZTyUykAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"仮モデリングによって試行錯誤がしやすくなった様子の図\"\n        title=\"仮モデリングによって試行錯誤がしやすくなった様子の図\"\n        src=\"/static/731bf9be59cfb09cbd369f57fb14060b/d743b/fig4.png\"\n        srcset=\"/static/731bf9be59cfb09cbd369f57fb14060b/12f09/fig4.png 148w,\n/static/731bf9be59cfb09cbd369f57fb14060b/e4a3f/fig4.png 295w,\n/static/731bf9be59cfb09cbd369f57fb14060b/d743b/fig4.png 477w\"\n        sizes=\"(max-width: 477px) 100vw, 477px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>最終的には調整による二度手間が生じることもありますが、高めた戦術の練度はそのまま活用できるかと思います。</p>\n<h3>まずはソロ討伐から</h3>\n<p>これは特に個人的な手応えですが、ドメイン駆動設計の実装で初期に複数人で作業するととても辛かったです。</p>\n<ul>\n<li>\n<p>概念層は概念の変更によってドラスティックに変わる</p>\n<ul>\n<li>根本的な設計レベルで柔軟に試行錯誤したいため、共同作業が足枷になりすぎる</li>\n<li>共同作業には規約が欲しいが、試行錯誤前に作っても無駄感</li>\n</ul>\n</li>\n<li>\n<p>ドメインエキスパートとの認識共有は超少人数のほうが動きやすい</p>\n<ul>\n<li>認識共有する人数が増えるとコストが爆増</li>\n</ul>\n</li>\n</ul>\n<p>スケールデメリットが大きすぎるので、概念層の実装ラインは一本にしたほうがいい、という手応えです。</p>\n<p>工数を見積もってウォーターフォール的に分担作業ができるタイミングまでは共同作業にせず、どちらかといえば練兵に努めたほうが最終的にはスピードも増す印象です。</p>\n<p>コンテキスト境界を考慮してうまくチーム分割ができる場合や、手数が必要になる非概念層の実装が負担になってきた場合にはスケールメリットが活かせるかと思います。</p>\n<h3>CQRSやPresentation層について</h3>\n<p>DDDの戦術における勘所は想定概念と実装表現を同期させることだと思っていますが、いわゆる「ドメイン」「業務知識」以外の扱いに悩みを持つ人が多い印象です。</p>\n<p>特に取得や出力のロジック（Query, Presentation）は「業務知識」とは異なる複雑なロジックによるデータ取得が必要になる場合もあり、業務知識と混在させると辛くなりがちです。</p>\n<p>個人的な解釈ですが、「業務知識」といった用語にとらわれず、「欲求」ごとに「概念」をモデリングし、素直に実装で表現することが勘所になると思っています。蓄積されたデータを「取得したい」「表示したい」といった欲求は副作用を生じさせる「業務知識」の欲求とは異なるため、個別に扱うのが自然だと考えています。</p>\n<ul>\n<li>データ形式が似ているため型定義を使い回しやすい</li>\n<li>データ取得のロジックも業務知識のRDBにSELECT文を使用すれば足りがち</li>\n</ul>\n<p>といった事情で「業務知識」のリソースを使いまわして逃げ切れることもそれなりに多いですね、くらいの雰囲気で捉えておくのがいいと思います。</p>\n<p>更新系と参照系が密結合になるのはわかりやすく辛いので、なんとか工数を確保して結合度を下げていきたい気持ちが強いです。</p>\n<h3>コンテキスト境界とサービス境界とチーム境界と管理境界とマイクロサービス</h3>\n<p>基本的にはチームごとのmonorepoとし、コンテキスト境界に合わせてディレクトリを切っていくのを好むようになりました。サービス（entrypointによって起動する何か）はコンテキスト境界と一致せず、各コンテキスト（ディレクトリ）で必要なだけmain関数を配置しています。</p>\n<p>ロジックを持ち、libraryとして依存させるだけで通信せずに活用されるコンテキストもあります（ID Contextの新規ID発行処理など）。</p>\n<p>コンテキストを分けDDDによって開発するのは「凝集度を高め結合度を下げ、概念と実装の好循環を生みたい」というDev的な欲求です。Ops的な欲求におけるマイクロサービスと併せて使う必要は必ずしもなく、それぞれで良し悪しを検討すればいいと思っています。</p>\n<p>個人的にはコンテキストごとに起動を分けたほうが素直で楽なのでマイクロサービスっぽくした上で、リポジトリごとにゴリッとデプロイしがちです。マイクロサービスらしくないデプロイフローに見えますが、monorepoをまとめて一つのアプリケーションとして扱っているため、実体としてサービスが分かれているかを気にする必要を感じないのでこうなりました。</p>\n<h3>Kotlin Multiplatform Projects</h3>\n<blockquote>\n<p><a href=\"https://kotlinlang.org/docs/reference/multiplatform.html\">Multiplatform Projects - Kotlin Programming Language</a></p>\n</blockquote>\n<p>プラットフォームや通信の境界に依らずモデルを共有したい場合、実装言語の違いが課題になってきます。</p>\n<p>2019年はKotlin Multiplatform Projectsが活況でした。Kotlinで実装すれば各プラットフォームに対応できるため、モデルを共通化する用途として最も期待しています。</p>\n<blockquote>\n<p><a href=\"https://aakira.app/blog/2018/12/kotlin-mpp-reason/\">Kotlin Multiplatform構想 ~今やる理由編~ | AABrain</a></p>\n</blockquote>\n<p>一方で、現状（2019-12-24時点）ではKotlin Multiplatform Projectsにロックインされる形での開発しかできず、Multiplatformにライブラリ提供をすることは難しいです。成果物はiOS用の <code class=\"language-text\">.framework</code> ファイルや、Javascriptの実装を出力することができるのでPublishさえどうにかなれば…というところです。依存ライブラリの扱いもあるので公開ライブラリとしては課題が多いですが、内部ライブラリとして提供する分には可能性がありそうです（試し中）。</p>\n<p>現状は各プラットフォームの開発がKotlin Multiplatform Projects内に閉じられる。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/299afc968564deda73cda4fbd10f29da/d6331/kotlinmpp.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 38.513513513513516%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsSAAALEgHS3X78AAABQklEQVQY022PWW+CQBSF+f9/p0l9QNS0ipSdBiuIMoMjKFGRlmWGZaBjmqY1+j3c3Nwl5xyuv6Pruu12vtnwPhB8n7ftSdf1D+GaX9orDaW0rmsAjJUneq7oujPP0+u6uYddcrIsG4YhSZKmaaxRVfV8PmNc51mVxmmeEUzq8paiKAghCKGrMvNJ/2iZn69sF0A+Dl8c5/lwCH6y/M/FKoSQY15vctCu7/pkj1bLOfB172OeRGFP+66lD54xxhUDk6rE5WdGsrw4Ji1hKSm55HXVtrgqTheSFddtXjaEXRMmCSHgokgKgoFri2kCw0jY7UaW/nRJj3E8jRDvuPzxFEVoEoVjAAZr5y05bPZ7Yb0emqbOWZaoqsLSsQBcKaqgKCNNf0UosKypqo5NcxZA37SmsjyS5eHSefeBpygCmy8W9jdo07etEkacrgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"現状でのKotlin Multiplatform Projectsの使用感の図\"\n        title=\"現状でのKotlin Multiplatform Projectsの使用感の図\"\n        src=\"/static/299afc968564deda73cda4fbd10f29da/fcda8/kotlinmpp.png\"\n        srcset=\"/static/299afc968564deda73cda4fbd10f29da/12f09/kotlinmpp.png 148w,\n/static/299afc968564deda73cda4fbd10f29da/e4a3f/kotlinmpp.png 295w,\n/static/299afc968564deda73cda4fbd10f29da/fcda8/kotlinmpp.png 590w,\n/static/299afc968564deda73cda4fbd10f29da/d6331/kotlinmpp.png 702w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Kotlin Multiplatform Projectsで開発したライブラリを各プラットフォームの開発に提供したい。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e671de0b105dd23990104b74d2e9e2a6/cab8c/kotlinmpp-lib.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.67567567567568%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAAB0ElEQVQoz1VQa2+bMBTl//+SdpM2deuySpWibvuwJSUhgdCAeSXhaWyDg3mFAOlNJ03dkXxlHZ9zfe6VhmHwfd+yLM/zdrudEKKu66qq2rY7nfq27aHW/6NpGpC1bSv1fQ/mOI6TJImiqOs6YIZh5MeQkC1lRhCirjsPQ/8P4ziCOcuyqxk6Xd5jHKGEB01bfTX0B0P/1Z3O75/hQLg851czJPnLjcN46S+c8CPNOckYzhnhbVHTKBV52Tc9Tem5P7+Za865dE3IiShDEnoNz0UR5sRN9nbb1XnqkNgqylzkSU6cIz+QaF9lpKzCMLSvP0NG216uV7ezP3e+b2rqZ2V5O5/fH3y00T7Jzze6PvO8+UK+WSoflNXUc1VV/fj0dItxKsGEVV0nYcJYVlYVoyyOEs4LIUpKWBLjohDHQhBMgQfy7U5SnMJqJcqoaVpoizDGrut67k5b69AVNu9Y7lY3cJoGQWgjB2S27TBGQQM8iCUhKtdeP//+gpAVBIeXzXQxu1uvZT8ITP2HPL+HfggmWD0oi4muLzCmyJgvZhPTRFLTnHz/RVG+WxbsgOr6dLX6pmkypdQwfy6Xk8MeYG02j4oyQUhl7Og4sqo+gv4VC4Mc4jaJjqgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"やりたいKotlin Multiplatform Projectsの使用感の図\"\n        title=\"やりたいKotlin Multiplatform Projectsの使用感の図\"\n        src=\"/static/e671de0b105dd23990104b74d2e9e2a6/fcda8/kotlinmpp-lib.png\"\n        srcset=\"/static/e671de0b105dd23990104b74d2e9e2a6/12f09/kotlinmpp-lib.png 148w,\n/static/e671de0b105dd23990104b74d2e9e2a6/e4a3f/kotlinmpp-lib.png 295w,\n/static/e671de0b105dd23990104b74d2e9e2a6/fcda8/kotlinmpp-lib.png 590w,\n/static/e671de0b105dd23990104b74d2e9e2a6/cab8c/kotlinmpp-lib.png 744w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>おわり</h2>\n<p>完全に雑記になってしまい申し訳ないですが、今の素直な手応えとして所感を記してみました。</p>\n<p>Kotlin Multiplatform ProjectsやGitHub Package Registryなど、管理面で相性の良い仕組みも盛り上がってきており、より一層DDDの実践が現実的になってきていると感じております。</p>\n<p>一般的にはDDDの戦術は工数が増えるためスピード感が重要なプロジェクトでは避けられがちな印象がありますが、凝集度を高め結合度を下げる欲求が生まれるのであればプロジェクトの規模に関わらず得られるものが多いと思います。</p>\n<p>秋くらいからサービス開発以外に興味が向いているためgenerator業が停滞していますが、早く概念表現だけでアプリケーション開発が概ね完結するよう仕上げていきたい所存です。</p>","excerpt":"個人的な話となり恐縮ですが、2019年はドメイン駆動設計の戦術周りでたくさんの試行錯誤ができた有意義な年となりました。 活動していく中で課題感に共感を得られたり方向性の違いを実感できたり学びが多かったので、雑記として残しておこうかと思います。","frontmatter":{"date":"2019-12-24","title":"DDDの個人的な現状 in 2019","tags":["Development","Go","Code Generator","DDD"],"eyecatch":null}}},"pageContext":{"urlPath":"/blog/ddd-in-2019/","previous":{"fields":{"urlPath":"/blog/starting-development-with-ddd/"},"frontmatter":{"title":"継続的に価値を提供するドメイン駆動設計入門","date":"2019-09-04"}},"next":{"fields":{"urlPath":"/blog/revamp-blog-with-gatsby-and-bulma/"},"frontmatter":{"title":"Gatsby.jsとBulmaでブログをリニューアルした","date":"2020-09-21"}}}},"staticQueryHashes":["2432199166","277821901","3202776293"]}