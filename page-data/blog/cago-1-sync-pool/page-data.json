{"componentChunkName":"component---src-templates-blog-jsx","path":"/blog/cago-1-sync-pool/","result":{"data":{"markdownRemark":{"fields":{"urlPath":"/blog/cago-1-sync-pool/","jstDate":"2017-07-17"},"html":"<p>1ヶ月ほど前になってしまいましたが、 <a href=\"https://cyberagent.connpass.com/event/58120/\">CA.go #1 - connpass</a> にてメモリ効率を瀑上げする sync.Pool について話をしてきました。</p>\n<!--more-->\n<h2>登壇内容</h2>\n<p><a href=\"https://speakerdeck.com/horiryota/sync-dot-pool-depu-shang-gememorixiao-lu\">sync.Pool で瀑上げメモリ効率</a> と題し、 sync.Pool の利点と実装における注意点を紹介してきました。</p>\n<blockquote>\n<p><a href=\"https://golang.org/pkg/sync/#Pool\">sync - The Go Programming Language</a></p>\n</blockquote>\n<div\n          style=\"position: relative; width:100%; height:0; padding-top:74.92957746478874%;\"\n          >\n          <iframe id=\"talk_frame_396710\" src=\"//speakerdeck.com/player/9650c58c8e504359bc237bfa5664836b\" width=100% height=\"100%\" style=\"position:absolute;top:0;left:0;border:0; padding:0; margin:0; background:transparent;\" frameborder=\"0\" allowtransparency=\"true\" allowfullscreen=\"allowfullscreen\" mozallowfullscreen=\"true\" webkitallowfullscreen=\"true\"></iframe>\n\n          </div>\n<p>“明日から使える sync.Pool” を目指したのですが、登壇後にいただいたアンケートでも概ね好評だったようで良かったです。</p>\n<p>内容はスライドを参照いただければ問題ないかと思いますが、概要としては以下です。</p>\n<ul>\n<li>sync.Pool はいわゆるメモリプールの仕組み。 Go 1.3 から標準パッケージに入った</li>\n<li>メモリを捨てずに再利用することで新しくメモリを確保しなくて済む</li>\n<li>大きなメモリ確保が必要なループを回しても、 sync.Pool を使えばアロケーションが走らないので高効率</li>\n<li>使いまわすので値が入ったままになる。初期化処理を工夫する必要がある</li>\n<li>interface{} で扱うので wrapper を用意したほうが良さそう</li>\n</ul>\n<p>スライドにはベンチマークも載せてありますが、シンプルに使えてかなりの効果が出ました。</p>\n<p>例えば動画サービスなら HLS の Playlist データで用いる配列や、パケット処理などで便利に使えます。</p>\n<h2>スライド制作</h2>\n<p>以前から使っている <a href=\"https://twitter.com/ahomu\">@ahomu</a> さん製の <a href=\"https://github.com/ahomu/Talkie\">Talkie</a> をお借りしました。いつもありがとうございます。</p>\n<p>Talkie はソースを丸っと落として index.html を編集する必要があるため、 Markdown だけ記述すればコマンド一発で起動できる <a href=\"https://github.com/hori-ryota/talkiego\">talkiego</a> を作りました。ペライチ資料作るのにも便利。今度ブログ書きます。</p>\n<blockquote>\n<p><a href=\"https://github.com/hori-ryota/talkiego\">hori-ryota/talkiego: talkiego is wrapper for Talkie.</a></p>\n</blockquote>\n<h2>お礼</h2>\n<p>今回は主催兼、司会兼、第一登壇者ということでとても緊張していたのですが、会場の雰囲気が優しくて助けられました。ありがとうございます。</p>\n<p>当日のお昼が記録的な荒天でキャンセルが相次ぐ中、足を運んでいただき本当に感謝しております。</p>\n<p>次回は8月中には開催できたらいいなーと思っているので、またよろしくお願いします。</p>","excerpt":"1ヶ月ほど前になってしまいましたが、 CA.go #1 - connpass にてメモリ効率を瀑上げする sync.Pool について話をしてきました。","frontmatter":{"date":"2017-07-17T12:00:00+09:00","title":"CA.go #1 で sync.Pool について喋りました #ca_go","tags":["Output","Conference","Development","Go"],"eyecatch":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABcSAAAXEgFnn9JSAAAB60lEQVQ4y62UR48CMQyF545ooneYoQgYytIWgegSRQIONAn+Bf//8DYvWkezqz3uwVjJ2F+e7QTL5/PB7/cjGAwiHA4jEokgFoshHo8jkUggmUz+MO7xG2MYyxzmkkGWFQgEEAqFDIgJqVQK6XQamUxGWzab1SZrfmMMYwVMBlmWwHgqFTCYyblczvh8Pq+9d4+escxhrkCt3zAqEIWlUgnFYlED6QuFgjZRTbDEC9Si5Gg0ina7jcvlgv1+j9vthuPxiO12i2azidfrhev1isPhYL45joNWq4XdbmeUkmWxD7RqtYrBYKDB0+kU8/kc4/EYrutiNBrp9Ww2w2q1wmKxQLlc1gprtZoG0sixZHpUcr/fUalU0Gg00O12sVwu0e/3tfEQHtbr9XQsK+Ehp9PJDIocS+ofDod4v99a1Xq91rDltxrCzuezUTmZTPB8PrHZbPB4PMz0NZA/3g0OguXQO7aNsuoV+1VRe1TvKG+rfQ6JORTjnbjuofeqcKKcJJNqqn911fhGp6Otrkq21UEyfcYxXoC6h5yMqBRoQQWVFLCtSnXVQNzPT7RUS7qq3PrHh4HJfZTq9JTlHrKXXmieKtXkbZapJunQqzVNLrrAftzDv16KeW7K53jAt8megP58Kf/+lv/73+YLQceesZVBwPIAAAAASUVORK5CYII=","aspectRatio":1.3333333333333333,"src":"/static/07f820abb6a2db9943a0322c746549eb/5707d/eyecatch.png","srcSet":"/static/07f820abb6a2db9943a0322c746549eb/497c6/eyecatch.png 400w,\n/static/07f820abb6a2db9943a0322c746549eb/ee604/eyecatch.png 800w,\n/static/07f820abb6a2db9943a0322c746549eb/5707d/eyecatch.png 1600w,\n/static/07f820abb6a2db9943a0322c746549eb/0ef64/eyecatch.png 2400w,\n/static/07f820abb6a2db9943a0322c746549eb/21ecb/eyecatch.png 3200w,\n/static/07f820abb6a2db9943a0322c746549eb/dcd2d/eyecatch.png 5333w","srcWebp":"/static/07f820abb6a2db9943a0322c746549eb/7c22d/eyecatch.webp","srcSetWebp":"/static/07f820abb6a2db9943a0322c746549eb/1f5c5/eyecatch.webp 400w,\n/static/07f820abb6a2db9943a0322c746549eb/58556/eyecatch.webp 800w,\n/static/07f820abb6a2db9943a0322c746549eb/7c22d/eyecatch.webp 1600w,\n/static/07f820abb6a2db9943a0322c746549eb/f1e40/eyecatch.webp 2400w,\n/static/07f820abb6a2db9943a0322c746549eb/f9eef/eyecatch.webp 3200w,\n/static/07f820abb6a2db9943a0322c746549eb/1f2ad/eyecatch.webp 5333w","sizes":"(max-width: 1600px) 100vw, 1600px"},"original":{"src":"/static/eyecatch-07f820abb6a2db9943a0322c746549eb.png","width":5333,"height":4000}}}}}},"pageContext":{"urlPath":"/blog/cago-1-sync-pool/","previous":{"fields":{"urlPath":"/blog/neovim-fix-input-broken-ttimeout/","jstDate":"2017-07-08"},"frontmatter":{"title":"Neovim で日本語入力の確定時に文字化けする症状の直し方","date":"2017-07-08"}},"next":{"fields":{"urlPath":"/blog/talkiego/","jstDate":"2017-07-29"},"frontmatter":{"title":"良い感じにスライドを作れる Talkie をラップした talkiego を作った","date":"2017-07-29"}}}},"staticQueryHashes":["1862978031","277821901","4270455655"]}