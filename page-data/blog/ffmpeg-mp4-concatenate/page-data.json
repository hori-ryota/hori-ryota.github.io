{"componentChunkName":"component---src-templates-blog-jsx","path":"/blog/ffmpeg-mp4-concatenate/","result":{"data":{"markdownRemark":{"fields":{"urlPath":"/blog/ffmpeg-mp4-concatenate/","jstDate":"2016-06-16"},"html":"<p>FFmpegでMP4を結合（concat）するワンライナー。</p>\n<!--more-->\n<h2>少ない元ファイルのFFmpeg concat</h2>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">ffmpeg -i <span class=\"token string\">\"concat:1.mp4|2.mp4|3.mp4\"</span> -c copy dst.mp4</code></pre></div>\n<h2>大量の元ファイルのFFmpeg concat</h2>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">ffmpeg -f concat -safe <span class=\"token number\">0</span> -i <span class=\"token operator\">&lt;</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">f</span> <span class=\"token keyword\">in</span> src/*.mp4<span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"file '<span class=\"token environment constant\">$PWD</span>/<span class=\"token variable\">$f</span>'\"</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">done</span><span class=\"token punctuation\">)</span> -codec copy dst.mp4</code></pre></div>\n<p><code class=\"language-text\">src/</code> 以下に結合したいMP4ファイルを置いて、 <code class=\"language-text\">dst.mp4</code> として出力。</p>\n<p><code class=\"language-text\">-codec copy</code> の指定でトランスコードせずにそのまま出力しているので、出力をMP4以外にする時や、コーデックを変更するときは外して別オプションを指定。</p>\n<p>この書き方だと <code class=\"language-text\">src/**/*.mp4</code> みたいに入れ子をまとめられないので、必要なら <code class=\"language-text\">ls src/**/*.mp4 | xargs -I{} mv {} src/</code> でまとめると楽。</p>","excerpt":"FFmpegでMP4を結合（concat）するワンライナー。","frontmatter":{"date":"2016-06-16T23:00:00+09:00","title":"FFmpegでMP4を結合（concat）するワンライナー","tags":["Development","Shell","Video Editing","FFmpeg"],"eyecatch":null}}},"pageContext":{"urlPath":"/blog/ffmpeg-mp4-concatenate/","previous":{"fields":{"urlPath":"/blog/remove-outdated-files-of-brew-cask/","jstDate":"2015-07-11"},"frontmatter":{"title":"Homebrew caskの古いバージョンを削除するワンライナー","date":"2015-07-11"}},"next":{"fields":{"urlPath":"/blog/mp4box-mp4-concatenate/","jstDate":"2016-06-17"},"frontmatter":{"title":"MP4BoxでMP4を結合（concat）するワンライナー","date":"2016-06-17"}}}},"staticQueryHashes":["1862978031","277821901","4270455655"]}